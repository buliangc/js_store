# 设计理念：快速响应

# 性能瓶颈
1. CPU
2. IO

# 解决办法：异步可中断的更新

js代码执行 --> 样式布局 --> 样式绘制

# 浏览器一帧：
脚本执行（JavaScript）：脚本造成了需要重绘的改动，比如增删 DOM、请求动画等
样式计算（CSS Object Model）：级联地生成每个节点的生效样式。
布局（Layout）：计算布局，执行渲染算法
重绘（Paint）：各层分别进行绘制（比如 3D 动画）
合成（Composite）：合成各层的渲染结果


# CPU瓶颈
将同步的更新变为异步可中断的更新，react和浏览器做个约定，浏览器将部分时间预留给react，react利用这部分预留的时间，来完成自己的工作。
如果某一个工作需要的时间特别长，超出了预留的时间，react会中断自己的工作，并将控制权交给浏览器，等待下一帧自己的那部分预留时间的到来。react会继续之前被中断的工作。这样浏览器在每一帧都会有时间能执行样式布局与样式绘制的工作，这样子就能减少掉帧的可能性。

