# react 15
reconcile  render
协调器      渲染器 
diff算法
将上次更新的组件与本次更新的组件作对比、
整个更新是同步的。

16版本之后的react从stack reconciler重写为fiber reconciler，主要作用就是去遍历节点，找出需要更新的节点，然后交由renderer去更新视图

diff算法找到差异后怎么办，协调器发现 1 需要变为2 ，就通知渲染器；渲染器render更新DOM，1变为2

[调度器]  [协调器]  [渲染器]
调度更新  决定需要更新什么组件  将组件更新到视图中 
# 新的react架构  react 16
老的更新会先被协调器执行，新的会先被调度器执行。

每个更新会被赋予一个优先级，高优先级的更新(更新2)会更快的被调度 （Scheduler调度器）进入协调器，如果协调器正在进行diff算法的时候，此时产生了更高优先级的更新(更新3)，原先在协调器的更新(更新2)会被中断。由于调度器与协调器都是在内存中工作，不会执行具体的视图操作，所以即使有中断发生，用户也不会看见更新不完全的视图。当某次更新完成了在协调器的工作时，协调器会通知渲染器，本次更新有哪些组件需要执行对应的视图操作，由渲染器来分别执行对应的视图操作。对于常见的ReactDOM渲染器来说，这些视图操作就包括了DOM节点的增删改查。当高优先级的更新完成渲染，调度器又会开始新一轮的调度。

协调器接收到更新后， 会执行diff算法， diff算法的目的是为了创建一颗虚拟DOM树，每一个视图上真实存在的节点，都有一个虚拟DOM节点与其对应。 