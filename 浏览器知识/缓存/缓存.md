缓存分为 强缓存（200） 和 协商缓存 （304）
Expires（Http1.0） 和 Cache-Control 
当用户使用浏览器 第一次 访问 某个网站的时候。发送请求到服务器，服务器认为这个资源浏览器端有必要缓存，会在响应头加上cache-control: max-age: 86400; 浏览器就会将资源存储到本地缓存中。 
[强制缓存生效]
第二次发送请求资源，首先去浏览器缓存里面查看Catch-Control判断资源是否过期，没有过期的话，就直接从缓存中拿到内容。请求不会到达服务器。返回200
[强制缓存失效，使用协商缓存]
当某次请求访问的缓存资源时间已经过期[超过max-age]的时候，会进行协商缓存，携带该资源的缓存标识[If-None-Match]和[If-Modified-Since]向服务器发起HTTP请求。资源未更新，直接返回304；
[强制缓存失效，直接向服务器请求]
资源更新了，返回200；

Etag存在的原因：因为If-Modified是按照秒算的，如果更新时间比秒级短就无法实时更新。Etag采用md5加密，使用的是hash值校验，一旦文件更新，便会产生新的hash值。

浏览器缓存：
1. 先查找内存，如果内存中存在，从内存中进行加载。
2. 如果内存中未查找到，选择从硬盘中进行查找，如果硬盘中有，从硬盘中加载；
3. 如果硬盘中未查找到，那就进行网络请求
4. 将加载到的资源缓存到硬盘和内存中

在http1.1版本中，服务器通过ETag来设置响应头缓存标识。ETag的值由服务端生成。在第一次请求的时候。

[ETag]：是属于HTTP 1.1属性，它是由服务器（Apache或者其他工具）生成返回给前端
[If-None-Match]：会将上次返回的ETag发送给服务器，询问该资源是否有更新，有变动的话就会发送新的资源。
当资源过期时（浏览器判断Cache-Control标识的max-age过期），浏览器发现响应头里有Etag,则再次像服务器请求时带上请求头if-none-match(值是Etag的值)。服务器收到请求进行比对，决定返回200或304

[Last-Modified]
服务器返回资源最后的修改时间
[If-Modified-Since] 发现响应头具有Last-Modified声明，则再次向服务器请求时带上头if-modified-since，表示请求时间。服务器收到请求后发现有if-modified-since则与被请求资源的最后修改时间进行对比（Last-Modified）,若最后修改时间较新（大），说明资源又被改过，则返回最新资源，HTTP 200 OK;若最后修改时间较旧（小），说明资源无新修改，响应HTTP 304 走缓存。

# no-store
永远都不要在客户端存储资源，永远都去原始服务器去获取资源。

# no-cache
可以在客户端存储资源，每次都必须去服务端做新鲜度校验，来决定从服务端获取新的资源（200）还是使用客户端缓存（304）。也就是所谓的协商缓存。


